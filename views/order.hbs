<section class="page-hero py-16 bg-cover bg-center">
  <div class="">
    <div class="text-center">
      <ul class="breadcrumb inline-flex h-8 items-center justify-center space-x-2 rounded-3xl bg-theme-light px-4 py-2">
        <li class="leading-none text-dark">
          <a class="inline-flex items-center text-primary" href="#">
            <svg class="mr-1.5" width="15" height="15" viewBox="0 0 16 16" fill="none"
              xmlns="http://www.w3.org/2000/svg">
              <path
                d="M13.1769 15.0588H10.3533V9.41178H5.64744V15.0588H2.82391V6.58825H1.88274V16H14.118V6.58825H13.1769V15.0588ZM6.58862 15.0588V10.353H9.41215V15.0588H6.58862ZM15.8084 6.09225L15.2512 6.85178L8.00038 1.52472L0.749559 6.8499L0.192383 6.09131L8.00038 0.357666L15.8084 6.09225Z"
                fill="black" />
            </svg>
            <span class="text-sm leading-none">Home</span>
          </a>
        </li>
        <li class="leading-none text-dark">
          <span class="text-sm leading-none">/ Order</span>
        </li>
      </ul>
    </div>
    <table class="w-full bg-white shadow-md mt-8 px-10">
      <!-- Header của bảng -->
      <thead>
        <tr class="bg-gray-100 text-gray-600 text-left">
          <th class="py-4 px-10">Book</th>
          <th class="py-4 px-2">Price</th>
          <th class="py-4 px-2">Amount</th>
          <th class="py-4 px-2">Total</th>
          <th class="py-4 px-2">Date</th>
          <th class="py-4 px-2">Status</th>
          <th class="py-4 px-2">Payment Status</th>
          <th class="py-4 px-2">Payment method</th>
        </tr>
      </thead>

      <tbody>
        {{#each orderItems}}
        <tr class="border-t">
          <!-- Cột Book -->
          <td class="py-4 px-6">
            <div class="flex items-center space-x-4">
              <img src="{{this.Book.image}}" alt="{{this.Book.title}}"
                class="w-20 h-20 object-cover rounded-lg shadow-md">
              <div>
                <h3 class="text-lg font-medium">{{this.Book.title}}</h3>
              </div>
            </div>
          </td>

          <!-- Cột Price -->
          <td class="py-4 px-2 text-gray-600">
            <span class="text-primary font-medium">{{this.Book.price}} ₫</span>
          </td>

          <!-- Cột Amount -->
          <td class="py-4 px-2 text-gray-600">
            <span class="text-primary font-medium">{{this.amount}}</span>
          </td>

          <!-- Cột Total -->
          <td class="py-4 px-2 text-gray-600">
            <span class="text-primary font-medium">{{this.total}} ₫</span>
          </td>

          <!-- Cột Date -->
          <td class="py-4 px-2 text-gray-600">
            <span class="text-primary font-medium">{{this.date_order}}</span>
          </td>

          <!-- Cột Status -->
          <td class="py-4 px-2 text-gray-600">
            <span class="text-primary font-medium">{{this.status}}</span>
          </td>

          <!-- Cột Payment Status -->
          <td class="py-4 px-2 text-gray-600">
            <span class="text-primary font-medium">{{this.payment_status}}</span>
          </td>

          <!-- Cột Payment Method -->
          <td class="py-4 px-2 text-gray-600">
            <span class="text-primary font-medium">{{this.payment_method}}</span>
          </td>
        </tr>
        {{/each}}
      </tbody>
    </table>
  </div>

  <script>
    window.onload = () => {
      // Lấy tất cả các phần tử có class 'date-order'
      const dateElements = document.querySelectorAll('.date-order');

      dateElements.forEach(el => {
        // Lấy giá trị ngày giờ gốc từ nội dung thẻ
        const utcDate = el.textContent.trim();

        // Kiểm tra nếu giá trị là hợp lệ
        if (utcDate) {
          try {
            // Chuyển đổi sang múi giờ Việt Nam
            const vietnamDate = new Date(utcDate).toLocaleString('vi-VN', { timeZone: 'Asia/Ho_Chi_Minh' });

            // Cập nhật nội dung hiển thị
            el.textContent = vietnamDate;
          } catch (err) {
            console.error(`Invalid date format for element:`, el, err);
          }
        }
      });
    };
  </script>


</section>